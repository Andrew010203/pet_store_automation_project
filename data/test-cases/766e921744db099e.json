{"uid":"766e921744db099e","name":"Find pet by status","fullName":"tests.test_pet.TestPet#test_find_pet_by_status","historyId":"abef50942d76035c793b136c566393d2","time":{"start":1771248069132,"stop":1771248069493,"duration":361},"status":"broken","statusMessage":"pydantic_core._pydantic_core.ValidationError: 1 validation error for PetResponseFindByStatus\nphotoUrls.0\n  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type","statusTrace":"self = <test_pet.TestPet object at 0x7fbfa10a1010>, status = 'pending'\nexpected_status = 200\n\n    @allure.title(\"Find pet by status\")\n    @pytest.mark.parametrize(\"status, expected_status\", [\n        (\"available\", 200),\n        (\"pending\", 200),\n        (\"sold\", 200),\n        pytest.param(\"invalid_status\", 400,\n                     marks=pytest.mark.xfail(reason=\"Server returns 200 [] instead of 400 for invalid status\", strict=True))\n    ])\n    def test_find_pet_by_status(self, status, expected_status):\n>       pets = self.pet_api.find_pet_by_status(status, expected_status)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/test_pet.py:51: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nservices/pet/pet_api.py:64: in find_pet_by_status\n    return self.validate_response(response, PetResponseFindByStatus, status_code=expected_status)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <services.pet.pet_api.PetApi object at 0x7fbfa10bb410>\nresponse = <Response [200]>\nmodel = <class 'services.pet.models.model_find_by_status.PetResponseFindByStatus'>\nstatus_code = 200, expected_success = True\n\n    def validate_response(self,\n        response: requests.Response,\n        model = type[BaseModel],\n        status_code: int = 200,\n        expected_success: bool = True\n    ):\n        self.attach_response(response.json())\n        if expected_success:\n            assert response.status_code == status_code, response.json()\n            if isinstance(response.json(), dict):\n                return model(**response.json())\n            elif isinstance(response.json(), list):\n>               return [model(**item) for item in response.json()]\n                        ^^^^^^^^^^^^^\nE               pydantic_core._pydantic_core.ValidationError: 1 validation error for PetResponseFindByStatus\nE               photoUrls.0\nE                 Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\nE                   For further information visit https://errors.pydantic.dev/2.12/v/string_type\n\nhelpers/helper.py:27: ValidationError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1771248065988,"stop":1771248065990,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_xunit_setup_method_fixture_TestPet","time":{"start":1771248069131,"stop":1771248069131,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"pydantic_core._pydantic_core.ValidationError: 1 validation error for PetResponseFindByStatus\nphotoUrls.0\n  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type","statusTrace":"self = <test_pet.TestPet object at 0x7fbfa10a1010>, status = 'pending'\nexpected_status = 200\n\n    @allure.title(\"Find pet by status\")\n    @pytest.mark.parametrize(\"status, expected_status\", [\n        (\"available\", 200),\n        (\"pending\", 200),\n        (\"sold\", 200),\n        pytest.param(\"invalid_status\", 400,\n                     marks=pytest.mark.xfail(reason=\"Server returns 200 [] instead of 400 for invalid status\", strict=True))\n    ])\n    def test_find_pet_by_status(self, status, expected_status):\n>       pets = self.pet_api.find_pet_by_status(status, expected_status)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/test_pet.py:51: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nservices/pet/pet_api.py:64: in find_pet_by_status\n    return self.validate_response(response, PetResponseFindByStatus, status_code=expected_status)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <services.pet.pet_api.PetApi object at 0x7fbfa10bb410>\nresponse = <Response [200]>\nmodel = <class 'services.pet.models.model_find_by_status.PetResponseFindByStatus'>\nstatus_code = 200, expected_success = True\n\n    def validate_response(self,\n        response: requests.Response,\n        model = type[BaseModel],\n        status_code: int = 200,\n        expected_success: bool = True\n    ):\n        self.attach_response(response.json())\n        if expected_success:\n            assert response.status_code == status_code, response.json()\n            if isinstance(response.json(), dict):\n                return model(**response.json())\n            elif isinstance(response.json(), list):\n>               return [model(**item) for item in response.json()]\n                        ^^^^^^^^^^^^^\nE               pydantic_core._pydantic_core.ValidationError: 1 validation error for PetResponseFindByStatus\nE               photoUrls.0\nE                 Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\nE                   For further information visit https://errors.pydantic.dev/2.12/v/string_type\n\nhelpers/helper.py:27: ValidationError","steps":[{"name":"Find pet by status","time":{"start":1771248069132,"stop":1771248069492,"duration":360},"status":"broken","statusMessage":"pydantic_core._pydantic_core.ValidationError: 1 validation error for PetResponseFindByStatus\nphotoUrls.0\n  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type\n","statusTrace":"  File \"/usr/local/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/usr/workspace/services/pet/pet_api.py\", line 64, in find_pet_by_status\n    return self.validate_response(response, PetResponseFindByStatus, status_code=expected_status)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/workspace/helpers/helper.py\", line 27, in validate_response\n    return [model(**item) for item in response.json()]\n            ^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/site-packages/pydantic/main.py\", line 250, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"uid":"c481457afac0dff4","name":"API Response","source":"c481457afac0dff4.json","type":"application/json","size":42984},{"uid":"55e3e8f4f5c95305","name":"API Response","source":"55e3e8f4f5c95305.json","type":"application/json","size":42984}],"parameters":[{"name":"status","value":"'pending'"},{"name":"expected_status","value":"200"}],"shouldDisplayMessage":true,"attachmentsCount":2,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":2,"stepsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"_xunit_setup_method_fixture_TestPet::0","time":{"start":1771248069500,"stop":1771248069500,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"Pet"},{"name":"epic","value":"Petstore"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_pet"},{"name":"subSuite","value":"TestPet"},{"name":"host","value":"c35fd2177fa7"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_pet"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"expected_status","value":"200"},{"name":"status","value":"'pending'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":8,"skipped":0,"passed":5,"unknown":0,"total":13},"items":[{"uid":"7dc361176a2e8f48","status":"broken","statusDetails":"pydantic_core._pydantic_core.ValidationError: 1 validation error for PetResponseFindByStatus\nphotoUrls.0\n  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type","time":{"start":1771243429700,"stop":1771243430084,"duration":384}},{"uid":"92d1b15056dfab82","status":"broken","statusDetails":"pydantic_core._pydantic_core.ValidationError: 1 validation error for PetResponseFindByStatus\nphotoUrls.0\n  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type","time":{"start":1771243244216,"stop":1771243244341,"duration":125}},{"uid":"dbb75e8cd50633cb","status":"broken","statusDetails":"pydantic_core._pydantic_core.ValidationError: 1 validation error for PetResponseFindByStatus\nphotoUrls.0\n  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type","time":{"start":1771242591614,"stop":1771242591832,"duration":218}},{"uid":"1713fdc30f8e7001","status":"broken","statusDetails":"pydantic_core._pydantic_core.ValidationError: 1 validation error for PetResponseFindByStatus\nphotoUrls.0\n  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type","time":{"start":1771238841628,"stop":1771238841877,"duration":249}},{"uid":"f27bd7395bdb20c2","status":"broken","statusDetails":"pydantic_core._pydantic_core.ValidationError: 1 validation error for PetResponseFindByStatus\nphotoUrls.0\n  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type","time":{"start":1771238336770,"stop":1771238336813,"duration":43}},{"uid":"42470776da864880","status":"broken","statusDetails":"pydantic_core._pydantic_core.ValidationError: 1 validation error for PetResponseFindByStatus\nphotoUrls.0\n  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type","time":{"start":1771235543684,"stop":1771235544047,"duration":363}},{"uid":"9e92ce20b9602236","status":"broken","statusDetails":"pydantic_core._pydantic_core.ValidationError: 1 validation error for PetResponseFindByStatus\nphotoUrls.0\n  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type","time":{"start":1771235100152,"stop":1771235100299,"duration":147}},{"uid":"8d447ef71b852b29","status":"passed","time":{"start":1771234014719,"stop":1771234014835,"duration":116}},{"uid":"64386de195ced8fd","status":"passed","time":{"start":1771233797267,"stop":1771233797500,"duration":233}},{"uid":"fb938fe9b8368c4b","status":"passed","time":{"start":1771221333396,"stop":1771221333615,"duration":219}},{"uid":"bb5db996249290bd","status":"passed","time":{"start":1770984145243,"stop":1770984145355,"duration":112}},{"uid":"700f039031a4e842","status":"passed","time":{"start":1770983852670,"stop":1770983852727,"duration":57}}]},"tags":[]},"source":"766e921744db099e.json","parameterValues":["200","'pending'"]}